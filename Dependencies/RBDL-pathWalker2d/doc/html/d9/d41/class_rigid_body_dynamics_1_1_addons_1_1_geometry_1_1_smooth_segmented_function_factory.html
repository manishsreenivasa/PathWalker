<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Rigid Body Dynamics Library: SmoothSegmentedFunctionFactory Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Rigid Body Dynamics Library
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="../../classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="../../hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d9/d41/class_rigid_body_dynamics_1_1_addons_1_1_geometry_1_1_smooth_segmented_function_factory.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-static-methods">Static Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">SmoothSegmentedFunctionFactory Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a96edfb27736ead3748aacc59703325eb"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../dc/dff/class_rigid_body_dynamics_1_1_addons_1_1_geometry_1_1_smooth_segmented_function.html">SmoothSegmentedFunction</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d41/class_rigid_body_dynamics_1_1_addons_1_1_geometry_1_1_smooth_segmented_function_factory.html#a96edfb27736ead3748aacc59703325eb">createFiberActiveForceLengthCurve</a> (double lce0, double lce1, double lce2, double lce3, double minActiveForceLengthValue, double plateauSlope, double curviness, const std::string &amp;curveName)</td></tr>
<tr class="separator:a96edfb27736ead3748aacc59703325eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9dfc0f2e449bd80ff840ba4d6001ad5"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../dc/dff/class_rigid_body_dynamics_1_1_addons_1_1_geometry_1_1_smooth_segmented_function.html">SmoothSegmentedFunction</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d41/class_rigid_body_dynamics_1_1_addons_1_1_geometry_1_1_smooth_segmented_function_factory.html#ac9dfc0f2e449bd80ff840ba4d6001ad5">createFiberForceVelocityCurve</a> (double fmaxE, double dydxC, double dydxNearC, double dydxIso, double dydxE, double dydxNearE, double concCurviness, double eccCurviness, const std::string &amp;curveName)</td></tr>
<tr class="separator:ac9dfc0f2e449bd80ff840ba4d6001ad5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd1a4ab2ff56e97e5b83d518a4320fb6"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../dc/dff/class_rigid_body_dynamics_1_1_addons_1_1_geometry_1_1_smooth_segmented_function.html">SmoothSegmentedFunction</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d41/class_rigid_body_dynamics_1_1_addons_1_1_geometry_1_1_smooth_segmented_function_factory.html#acd1a4ab2ff56e97e5b83d518a4320fb6">createFiberForceVelocityInverseCurve</a> (double fmaxE, double dydxC, double dydxNearC, double dydxIso, double dydxE, double dydxNearE, double concCurviness, double eccCurviness, const std::string &amp;muscleName)</td></tr>
<tr class="separator:acd1a4ab2ff56e97e5b83d518a4320fb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2214b7dd40e0748f6cac5a1b8892384f"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../dc/dff/class_rigid_body_dynamics_1_1_addons_1_1_geometry_1_1_smooth_segmented_function.html">SmoothSegmentedFunction</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d41/class_rigid_body_dynamics_1_1_addons_1_1_geometry_1_1_smooth_segmented_function_factory.html#a2214b7dd40e0748f6cac5a1b8892384f">createFiberCompressiveForcePennationCurve</a> (double phi0, double kiso, double curviness, const std::string &amp;curveName)</td></tr>
<tr class="separator:a2214b7dd40e0748f6cac5a1b8892384f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afccff768b761a91112a7161df05e80e9"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../dc/dff/class_rigid_body_dynamics_1_1_addons_1_1_geometry_1_1_smooth_segmented_function.html">SmoothSegmentedFunction</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d41/class_rigid_body_dynamics_1_1_addons_1_1_geometry_1_1_smooth_segmented_function_factory.html#afccff768b761a91112a7161df05e80e9">createFiberCompressiveForceCosPennationCurve</a> (double cosPhi0, double kiso, double curviness, const std::string &amp;curveName)</td></tr>
<tr class="separator:afccff768b761a91112a7161df05e80e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add8671d064226860f0cc113e9d9a68c4"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../dc/dff/class_rigid_body_dynamics_1_1_addons_1_1_geometry_1_1_smooth_segmented_function.html">SmoothSegmentedFunction</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d41/class_rigid_body_dynamics_1_1_addons_1_1_geometry_1_1_smooth_segmented_function_factory.html#add8671d064226860f0cc113e9d9a68c4">createFiberCompressiveForceLengthCurve</a> (double l0, double kiso, double curviness, const std::string &amp;curveName)</td></tr>
<tr class="separator:add8671d064226860f0cc113e9d9a68c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc57ab81cd4efc0d0c65f65466f94d14"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../dc/dff/class_rigid_body_dynamics_1_1_addons_1_1_geometry_1_1_smooth_segmented_function.html">SmoothSegmentedFunction</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d41/class_rigid_body_dynamics_1_1_addons_1_1_geometry_1_1_smooth_segmented_function_factory.html#afc57ab81cd4efc0d0c65f65466f94d14">createFiberForceLengthCurve</a> (double eZero, double eIso, double kLow, double kIso, double curviness, const std::string &amp;curveName)</td></tr>
<tr class="separator:afc57ab81cd4efc0d0c65f65466f94d14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c813b5ab98577db69f0e0e8efcb881c"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../dc/dff/class_rigid_body_dynamics_1_1_addons_1_1_geometry_1_1_smooth_segmented_function.html">SmoothSegmentedFunction</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d41/class_rigid_body_dynamics_1_1_addons_1_1_geometry_1_1_smooth_segmented_function_factory.html#a1c813b5ab98577db69f0e0e8efcb881c">createTendonForceLengthCurve</a> (double eIso, double kIso, double fToe, double curviness, const std::string &amp;curveName)</td></tr>
<tr class="separator:a1c813b5ab98577db69f0e0e8efcb881c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afea0c5cbf824f21dd74576669d2abd37"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../dc/dff/class_rigid_body_dynamics_1_1_addons_1_1_geometry_1_1_smooth_segmented_function.html">SmoothSegmentedFunction</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d41/class_rigid_body_dynamics_1_1_addons_1_1_geometry_1_1_smooth_segmented_function_factory.html#afea0c5cbf824f21dd74576669d2abd37">createAnderson2007ActiveTorqueAngleCurve</a> (double c2, double c3, const std::string &amp;curveName)</td></tr>
<tr class="separator:afea0c5cbf824f21dd74576669d2abd37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a932018250b24dab39925258fe5c8dc29"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../dc/dff/class_rigid_body_dynamics_1_1_addons_1_1_geometry_1_1_smooth_segmented_function.html">SmoothSegmentedFunction</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d41/class_rigid_body_dynamics_1_1_addons_1_1_geometry_1_1_smooth_segmented_function_factory.html#a932018250b24dab39925258fe5c8dc29">createAnderson2007ActiveTorqueVelocityCurve</a> (double c4, double c5, double c6, double minEccentricMultiplier, double maxEccentricMultiplier, const std::string &amp;curveName)</td></tr>
<tr class="separator:a932018250b24dab39925258fe5c8dc29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a015c3bc3be00cdc54a97bc321edd3b2a"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../dc/dff/class_rigid_body_dynamics_1_1_addons_1_1_geometry_1_1_smooth_segmented_function.html">SmoothSegmentedFunction</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d41/class_rigid_body_dynamics_1_1_addons_1_1_geometry_1_1_smooth_segmented_function_factory.html#a015c3bc3be00cdc54a97bc321edd3b2a">createAnderson2007PassiveTorqueAngleCurve</a> (double scale, double c1, double b1, double k1, double b2, double k2, const std::string &amp;curveName)</td></tr>
<tr class="separator:a015c3bc3be00cdc54a97bc321edd3b2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0ac453217a51a2ebc13e3db6efc1dde"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../dc/dff/class_rigid_body_dynamics_1_1_addons_1_1_geometry_1_1_smooth_segmented_function.html">SmoothSegmentedFunction</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d41/class_rigid_body_dynamics_1_1_addons_1_1_geometry_1_1_smooth_segmented_function_factory.html#ac0ac453217a51a2ebc13e3db6efc1dde">createNeuroSwingSpringProfile</a> (<a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a2cf580002219c9abf187ceb3d4021785">RigidBodyDynamics::Math::VectorNd</a> &amp;controlPointAngles, <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a2cf580002219c9abf187ceb3d4021785">RigidBodyDynamics::Math::VectorNd</a> &amp;controlPointTorques, <a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a2cf580002219c9abf187ceb3d4021785">RigidBodyDynamics::Math::VectorNd</a> &amp;controlPointSlopes, const std::string &amp;curveName)</td></tr>
<tr class="separator:ac0ac453217a51a2ebc13e3db6efc1dde"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="../../d0/d06/_smooth_segmented_function_factory_8h_source.html#l00156">156</a> of file <a class="el" href="../../d0/d06/_smooth_segmented_function_factory_8h_source.html">SmoothSegmentedFunctionFactory.h</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="afea0c5cbf824f21dd74576669d2abd37"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../dc/dff/class_rigid_body_dynamics_1_1_addons_1_1_geometry_1_1_smooth_segmented_function.html">SmoothSegmentedFunction</a>* createAnderson2007ActiveTorqueAngleCurve </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>c2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>c3</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>curveName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This is a function that will produce a C2 (continuous to the second derivative) active torque angle curve. This Bezier curve has been fitted to match the active-torque-angle curve described in</p>
<p>Anderson, Dennis E., Michael L. Madigan, and Maury A. Nussbaum. "Maximum voluntary joint torque as a function of joint angle and angular velocity: model development and application to the lower limb." Journal of biomechanics 40, no. 14 (2007): 3105-3113.</p>
<p>but note that its range is normalized to [0,1].</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c2</td><td>(radians) The active-torque-angle width parameter. The parameter c2 is defined by Anderson et al. as</td></tr>
  </table>
  </dd>
</dl>
<p>c2 = pi/(theta_max - theta_min).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c3</td><td>: (radians) Then angle which has the largest active-torque.</td></tr>
    <tr><td class="paramname">curveName</td><td>The name of the joint torque this curve applies to. This curve name should have the name of the joint and the direction (e.g. hipExtensionTorqueMuscle) so that if this curve ever causes an exception, a user friendly error message can be displayed to the end user to help them debug their model.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SmoothSegmentedFunction* </dd></dl>

</div>
</div>
<a class="anchor" id="a932018250b24dab39925258fe5c8dc29"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../dc/dff/class_rigid_body_dynamics_1_1_addons_1_1_geometry_1_1_smooth_segmented_function.html">SmoothSegmentedFunction</a>* createAnderson2007ActiveTorqueVelocityCurve </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>c4</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>c5</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>c6</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>minEccentricMultiplier</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>maxEccentricMultiplier</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>curveName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This is a function that will produce a C2 (continuous to the second derivative) active torque (angular) velocity curve. This Bezier curve has been fitted to match the active-torque-angle curve described in</p>
<p>Anderson, Dennis E., Michael L. Madigan, and Maury A. Nussbaum. "Maximum voluntary joint torque as a function of joint angle and angular velocity: model development and application to the lower limb." Journal of biomechanics 40, no. 14 (2007): 3105-3113.</p>
<p>While the concentric side of the Bezier curve and the original formulation match, the eccentric side does not: the equations Anderson et al. chose decrease down to 0 rapidly. Since Anderson et al. did not collect data at the higher eccentric velocities the oddities in their chosen curves are likely due to the parameterization they chose. The eccentric side of the Bezier curve will be fitted so that, if possible, it passes close to the value of the original curves for theta = -60 deg/s within the limits imposed by minEccentricMultiplier and maxEccentricMultiplier.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c4</td><td>(rads/s) Angular velocity when the torque is 75% of the maximum isometric torque.</td></tr>
    <tr><td class="paramname">c5</td><td>(rads/s) Angular velocity when the torque is 50% of the maximum isometric torque.</td></tr>
    <tr><td class="paramname">c6</td><td>Multiplier that Anderson et al. uses to describe the change in slope of the curve as the contraction velocity changes sign from + to -.</td></tr>
    <tr><td class="paramname">minEccentricMultiplier</td><td>The minimum value of the torque-(angular)-velocity curve tends to at large eccentric contraction velocities. Note minEccentricMultiplier &gt; 1.0</td></tr>
    <tr><td class="paramname">maxEccentricMultiplier</td><td>The value of the torque-(angular)-velocity curve tends to at large eccentric contraction velocities. Note maxEccentricMultiplier &gt; minEccentricMultiplier.</td></tr>
    <tr><td class="paramname">curveName</td><td>The name of the joint torque this curve applies to. This curve name should have the name of the joint and the direction (e.g. hipExtensionTorqueMuscle) so that if this curve ever causes an exception, a user friendly error message can be displayed to the end user to help them debug their model.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SmoothSegmentedFunction* </dd></dl>

</div>
</div>
<a class="anchor" id="a015c3bc3be00cdc54a97bc321edd3b2a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../dc/dff/class_rigid_body_dynamics_1_1_addons_1_1_geometry_1_1_smooth_segmented_function.html">SmoothSegmentedFunction</a>* createAnderson2007PassiveTorqueAngleCurve </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>scale</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>c1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>b1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>k1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>b2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>k2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>curveName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This is a function that will produce a C2 (continuous to the second derivative) passive torque angle curve described in</p>
<p>Anderson, Dennis E., Michael L. Madigan, and Maury A. Nussbaum. "Maximum voluntary joint torque as a function of joint angle and angular velocity: model development and application to the lower limb." Journal of biomechanics 40, no. 14 (2007): 3105-3113.</p>
<p>Note the following differences between this implementation and the original equations presented in Anderson et al.:</p>
<ol type="1">
<li>This function will return a curve that is fitted to the positive side of the curve defined by the coefficients b1, k1, b2, and k2. Because of the sign convention employed by Anderson et al. the positive side of the curve corresponds to the passive curve generated by the torque actuator associated with the rest of the coefficients.</li>
<li>This function has been normalized so that a value of 1.0 corresponds to one-maximum-isometric-active-contraction torque, or c1*subjectWeightInNewtons*subjectHeightInMeters.</li>
</ol>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">scale</td><td>The scaling factor used on the c1 column in Table 3 of Anderson et al.:</td></tr>
  </table>
  </dd>
</dl>
<p>scale = subjectWeightInNewtons * subjectHeightInMeters</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c1</td><td>The normalized c1 parameter listed in Tabel 3 of Anderson et al.</td></tr>
    <tr><td class="paramname">b1</td><td>The passive torque angle curve parameter used in Anderson et al.'s Eqn. 1:</td></tr>
  </table>
  </dd>
</dl>
<p>torquePassive = b1*exp(k1*theta) + b2*exp(k2*theta)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">k1</td><td>The term k1 in Anderson et al.'s Eqn. 1.</td></tr>
    <tr><td class="paramname">b2</td><td>The term b2 in Anderson et al.'s Eqn. 1.</td></tr>
    <tr><td class="paramname">k2</td><td>The term k2 in Anderson et al.'s Eqn. 1.</td></tr>
    <tr><td class="paramname">curveName</td><td>The name of the joint torque this curve applies to. This curve name should have the name of the joint and the direction (e.g. hipExtensionTorqueMuscle) so that if this curve ever causes an exception, a user friendly error message can be displayed to the end user to help them debug their model.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SmoothSegmentedFunction* </dd></dl>

</div>
</div>
<a class="anchor" id="a96edfb27736ead3748aacc59703325eb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../dc/dff/class_rigid_body_dynamics_1_1_addons_1_1_geometry_1_1_smooth_segmented_function.html">SmoothSegmentedFunction</a>* createFiberActiveForceLengthCurve </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>lce0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>lce1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>lce2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>lce3</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>minActiveForceLengthValue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>plateauSlope</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>curviness</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>curveName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This is a function that will produce a C2 (continuous to the second derivative) active force length curve.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lce0</td><td>Normalized fiber length at the left-most shoulder of the active force-length curve. The value of the active force length curve for lce &lt; lce0 will be equal to the value set in shoulderVal. Normally lce0 is approximately 0.5</td></tr>
    <tr><td class="paramname">lce1</td><td>Normalized fiber length at the transition point between the ascending limb and the plateau region of the active force length curve.</td></tr>
    <tr><td class="paramname">lce2</td><td>Normalized fiber length at the maximum active force length curve value of 1. Normally lce2 is by definition 1.</td></tr>
    <tr><td class="paramname">lce3</td><td>Normalized fiber length of the at the right most shoulder of the active-force length curve. The value of the active force length curve for lce &gt; lce2 will be equal to the value of shoulderVal. Normally lce3 is approximately 1.5</td></tr>
    <tr><td class="paramname">minActiveForceLengthValue</td><td>The minimum value of the active force length curve. A physiological non-equibrium muscle model would have this value set to 0. An equilibrium muscle model would have a non-zero lower bound on this value of 0.1 typically. shoulderVal must be greater than, or equal to 0.</td></tr>
    <tr><td class="paramname">plateauSlope</td><td>The slope of the plateau of the active force length curve between lce1 and lce2. This parameter can vary depending on the muscle model, but a value of 0.8616 is a good place to start.</td></tr>
    <tr><td class="paramname">curviness</td><td>The dimensionless 'curviness' parameter that can vary between 0 (a line) to 1 (a smooth, but sharply bent elbow). A value of 0 will yield an active force length curve that is composed of slightly curved line segments. A value of 1 will yield an active force length curve that is smoothly rounded.</td></tr>
    <tr><td class="paramname">curveName</td><td>The name of the muscle this curve applies to. This curve name should have the name of the muscle and the curve in it (e.g. "bicep_fiberActiveForceLengthCurve") sothat if this curve ever causes an exception, a userfriendly error message can be displayed to the end user to help them debug their model.</td></tr>
  </table>
  </dd>
</dl>
<p><b>aborts</b> <b>if</b> these conditions aren't met -0 &lt; lce0 &lt; lce1 &lt; lce2 &lt; lce3 -shoulderVal &gt;= 0 -0 &lt;= plateauSlope &lt; (1/(lce3-lce2)) -0 &lt;= curviness &lt;= 1</p>
<dl class="section return"><dt>Returns</dt><dd>SmoothSegmentedFunction*</dd></dl>
<div class="image">
<img src="../../fig_SmoothSegmentedFunctionFactory_falCurve.png" alt="fig_SmoothSegmentedFunctionFactory_falCurve.png"/>
</div>
<p><b>Conditions:</b></p>
<p><b>Computational Costs</b> </p>
<pre class="fragment">~20,500 flops
</pre><p><b>Example:</b> </p>
<div class="fragment"><div class="line"><span class="keywordtype">double</span> lce0 = 0.5;</div>
<div class="line"><span class="keywordtype">double</span> lce1 = 0.75;</div>
<div class="line"><span class="keywordtype">double</span> lce2 = 1;</div>
<div class="line"><span class="keywordtype">double</span> lce3 = 1.5;</div>
<div class="line"><span class="keywordtype">double</span> shoulderVal  = 0.1;</div>
<div class="line"><span class="keywordtype">double</span> plateauSlope = 0.75;</div>
<div class="line"><span class="keywordtype">double</span> curviness  = 0.9;</div>
<div class="line"></div>
<div class="line">SmoothSegmentedFunction* fiberfalCurve = <a class="code" href="../../d9/d41/class_rigid_body_dynamics_1_1_addons_1_1_geometry_1_1_smooth_segmented_function_factory.html#a96edfb27736ead3748aacc59703325eb">SmoothSegmentedFunctionFactory::</a></div>
<div class="line"><a class="code" href="../../d9/d41/class_rigid_body_dynamics_1_1_addons_1_1_geometry_1_1_smooth_segmented_function_factory.html#a96edfb27736ead3748aacc59703325eb">createFiberActiveForceLengthCurve</a>(lce0, lce1, lce2, lce3, </div>
<div class="line">  shoulderVal, plateauSlope, curviness,<span class="stringliteral">&quot;test&quot;</span>);</div>
<div class="line">fiberfalCurve.printCurveToFile();</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="afccff768b761a91112a7161df05e80e9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../dc/dff/class_rigid_body_dynamics_1_1_addons_1_1_geometry_1_1_smooth_segmented_function.html">SmoothSegmentedFunction</a>* createFiberCompressiveForceCosPennationCurve </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>cosPhi0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>kiso</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>curviness</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>curveName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This element will generate a C2 continuous (continuous to the 2nd derivative) compressive force profile curve as a function of cos(pennation).</p>
<p>A muscle model with this element usually places this element in line with the tendon. The main function of this element is to prevent the fiber from achieving a pennation angle of pi/2 radians. This type of element is necessary for a parallelogram pennated muscle models because without it, the muscle model can deform to the point where a pennation angle of pi/2 radians is reached, which causes a singularity in the model.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cosPhi0</td><td>The cosine of the pennation angle at which the compressive force element starts to engage. When the cos of the pennation angle is greater than cosPhi0, the compressive element generates no force. When cos of the pennation angle is less than cosPhi0, the compressive element generates a compressive force.</td></tr>
    <tr><td class="paramname">kiso</td><td>This is the maximum stiffness of the compressive element, which occurs when cosPhi is zero. This parameter must be negative cos </td></tr>
    <tr><td class="paramname">curviness</td><td>The dimensionless 'curviness' parameter that can vary between 0 (a line) to 1 (a smooth, but sharply bent elbow)</td></tr>
    <tr><td class="paramname">curveName</td><td>The name of the muscle this curve applies to. This curve name should have the name of the muscle and the curve in it (e.g. "bicep_fiberCompressiveForceCosPennationCurve") sothat if this curve ever causes an exception, a userfriendly error message can be displayed to the end user to help them debug their model.</td></tr>
  </table>
  </dd>
</dl>
<p><b>aborts</b> <b>unless</b> the following conditions are met: -0 &lt; cosPhi0 -kiso &gt; 1/(cosPhi0) -0 &lt;= curviness &lt;= 1</p>
<dl class="section return"><dt>Returns</dt><dd>SmoothSegmentedFunction*</dd></dl>
<div class="image">
<img src="../../fig_SmoothSegmentedFunctionFactory_fcCosPhiCurve.png" alt="fig_SmoothSegmentedFunctionFactory_fcCosPhiCurve.png"/>
</div>
<p><b>Computational Costs</b> </p>
<pre class="fragment">~4,100 flops
</pre><p><b>Example:</b> </p>
<div class="fragment"><div class="line"><span class="keywordtype">double</span> cosPhi0 = cos( (80.0/90.0)*SimTK::Pi/2);</div>
<div class="line"><span class="keywordtype">double</span> kiso  = -1.2/(cosPhi0);</div>
<div class="line"><span class="keywordtype">double</span> c   = 0.5;</div>
<div class="line"></div>
<div class="line">SmoothSegmentedFunction fiberCECosPhiCurve = <a class="code" href="../../d9/d41/class_rigid_body_dynamics_1_1_addons_1_1_geometry_1_1_smooth_segmented_function_factory.html#afccff768b761a91112a7161df05e80e9">SmoothSegmentedFunctionFactory::</a></div>
<div class="line"><a class="code" href="../../d9/d41/class_rigid_body_dynamics_1_1_addons_1_1_geometry_1_1_smooth_segmented_function_factory.html#afccff768b761a91112a7161df05e80e9">createFiberCompressiveForceCosPennationCurve</a>(cosPhi0,kiso,c,<span class="stringliteral">&quot;test&quot;</span>);</div>
<div class="line">fiberCEPhiCurve.printCurveToFile();</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="add8671d064226860f0cc113e9d9a68c4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../dc/dff/class_rigid_body_dynamics_1_1_addons_1_1_geometry_1_1_smooth_segmented_function.html">SmoothSegmentedFunction</a>* createFiberCompressiveForceLengthCurve </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>l0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>kiso</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>curviness</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>curveName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This element will generate a C2 continous (continuous to the second derivative) curve that models a compressive force profile that is a function of fiber length. The main function of this element is to prevent the fiber from achieving an unrealistically short length. This type of element is necessary for equilibrium-type muscle models because of the editing that is done to the active force length curve that endows an equilibrium model fiber with the ability to to generate force when a physiological fiber cannot.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">l0</td><td>The normalized fiber length at which the compressive element starts to engage. When the fiber is shorter than l0, the compressive element is generating a force. When the fiber length is longer than l0, the compressive element generates no force.</td></tr>
    <tr><td class="paramname">kiso</td><td>This is the maximum stiffness of the compressive element, which occurs when the fiber has a length of 0, under a load of 1 maximum isometric unit of force.</td></tr>
    <tr><td class="paramname">curviness</td><td>The dimensionless 'curviness' parameter that can vary between 0 (a line) to 1 (a smooth, but sharply bent elbow)</td></tr>
    <tr><td class="paramname">curveName</td><td>The name of the muscle this curve applies to. This curve name should have the name of the muscle and the curve in it (e.g. "bicep_fiberCompressiveForceLengthCurve") sothat if this curve ever causes an exception, a userfriendly error message can be displayed to the end user to help them debug their model.</td></tr>
  </table>
  </dd>
</dl>
<p><b>aborts</b> <b>unless</b> the following conditions are met -e0 &gt; 0 -kiso &gt; 1/(e0) -0 &lt;= curviness &lt;= 1</p>
<dl class="section return"><dt>Returns</dt><dd>SmoothSegmentedFunction*</dd></dl>
<div class="image">
<img src="../../fig_SmoothSegmentedFunctionFactory_fpeCurve.png" alt="fig_SmoothSegmentedFunctionFactory_fpeCurve.png"/>
</div>
<p><b>Computational Costs</b> </p>
<pre class="fragment">~4,100 flops
</pre><p><b>Example:</b> </p>
<div class="fragment"><div class="line"><span class="keywordtype">double</span> lmax = 0.6;</div>
<div class="line"><span class="keywordtype">double</span> kiso = -8.389863790885878;</div>
<div class="line"><span class="keywordtype">double</span> c  = 0.1;<span class="comment">//0.0;</span></div>
<div class="line"></div>
<div class="line">SmoothSegmentedFunction fiberCECurve = <a class="code" href="../../d9/d41/class_rigid_body_dynamics_1_1_addons_1_1_geometry_1_1_smooth_segmented_function_factory.html#add8671d064226860f0cc113e9d9a68c4">SmoothSegmentedFunctionFactory::</a></div>
<div class="line"><a class="code" href="../../d9/d41/class_rigid_body_dynamics_1_1_addons_1_1_geometry_1_1_smooth_segmented_function_factory.html#add8671d064226860f0cc113e9d9a68c4">createFiberCompressiveForceLengthCurve</a>(lmax,kiso,c,<span class="stringliteral">&quot;test&quot;</span>);</div>
<div class="line">fiberCECurve.printCurveToFile();</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="a2214b7dd40e0748f6cac5a1b8892384f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../dc/dff/class_rigid_body_dynamics_1_1_addons_1_1_geometry_1_1_smooth_segmented_function.html">SmoothSegmentedFunction</a>* createFiberCompressiveForcePennationCurve </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>phi0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>kiso</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>curviness</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>curveName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This element will generate a C2 continuous (continuous to the 2nd derivative) compressive force profile curve as a function of pennation. A muscle model with this element usually places this element parallel to the fiber.The main function of this element is to prevent the fiber from achieving a pennation angle of pi/2 radians. This type of element is necessary for a parallelogram pennated equilibrium muscle models because without it, the muscle model can deform to the point where a pennation angle of pi/2 radians is reached, which causes a singularity in the model.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">phi0</td><td>The pennation angle at which the compressive force element starts to engage . When the pennation angle is greater than phi0, the compressive element is generating a force. When the pennation angle is less than phi0, the compressive element generates no force.</td></tr>
    <tr><td class="paramname">kiso</td><td>This is the maximum stiffness of the compressive element, which occurs when the fiber is pennated by 90 degrees</td></tr>
    <tr><td class="paramname">curviness</td><td>The dimensionless 'curviness' parameter that can vary between 0 (a line) to 1 (a smooth, but sharply bent elbow)</td></tr>
    <tr><td class="paramname">curveName</td><td>The name of the muscle this curve applies to. This curve name should have the name of the muscle and the curve in it (e.g. "bicep_fiberCompressiveForcePennationCurve") sothat if this curve ever causes an exception, a userfriendly error message can be displayed to the end user to help them debug their model.</td></tr>
  </table>
  </dd>
</dl>
<p><b>aborts</b> <b>unless</b> the following conditions are met -0 &lt; phi0 &lt; SimTK::Pi/2 -kiso &gt; 1/(SimTK::Pi/2-phi0) -0 &lt;= curviness &lt;= 1</p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="../../dc/dff/class_rigid_body_dynamics_1_1_addons_1_1_geometry_1_1_smooth_segmented_function.html">SmoothSegmentedFunction</a> object</dd></dl>
<div class="image">
<img src="../../fig_SmoothSegmentedFunctionFactory_fcphiCurve.png" alt="fig_SmoothSegmentedFunctionFactory_fcphiCurve.png"/>
</div>
<p><b>Computational Costs</b> </p>
<pre class="fragment">~4,100 flops
</pre><p><b>Example:</b> </p>
<div class="fragment"><div class="line"><span class="keywordtype">double</span> phi0 = (SimTK::Pi/2)*(8.0/9.0);</div>
<div class="line"><span class="keywordtype">double</span> kiso = 8.389863790885878;</div>
<div class="line"><span class="keywordtype">double</span> c  = 0.0;</div>
<div class="line"></div>
<div class="line">SmoothSegmentedFunction fiberCEPhiCurve = <a class="code" href="../../d9/d41/class_rigid_body_dynamics_1_1_addons_1_1_geometry_1_1_smooth_segmented_function_factory.html#a2214b7dd40e0748f6cac5a1b8892384f">SmoothSegmentedFunctionFactory::</a></div>
<div class="line"><a class="code" href="../../d9/d41/class_rigid_body_dynamics_1_1_addons_1_1_geometry_1_1_smooth_segmented_function_factory.html#a2214b7dd40e0748f6cac5a1b8892384f">createFiberCompressiveForcePennationCurve</a>(phi0,kiso,c,<span class="stringliteral">&quot;test&quot;</span>);</div>
<div class="line">fiberCEPhiCurve.printCurveToFile();</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="afc57ab81cd4efc0d0c65f65466f94d14"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../dc/dff/class_rigid_body_dynamics_1_1_addons_1_1_geometry_1_1_smooth_segmented_function.html">SmoothSegmentedFunction</a>* createFiberForceLengthCurve </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>eZero</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>eIso</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>kLow</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>kIso</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>curviness</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>curveName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This function will generate a C2 continuous curve that fits a fiber's tensile force length curve.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">eZero</td><td>The fiber strain at which the fiber begins to develop force. Thus an e0 of 0.0 means that the fiber will start to develop passive force when it has a normalized length of 1.0. Note that e0 can be postive or negative.</td></tr>
    <tr><td class="paramname">eIso</td><td>The fiber strain at which the fiber develops 1 unit of normalized force (1 maximum isometric force). Note that the '1' is left off. Thus an e0 of 0.6 means that the fiber will develop an 1 normalized force unit when it is strained by 60% of its resting length, or to a normalized length of 1.6</td></tr>
    <tr><td class="paramname">kLow</td><td>The normalized stiffness (or slope) of the fiber curve close to the location where the force-length curve approaches a normalized force of 0. This is usually chosen to be a small, but non-zero fraction of kIso (kLow = 0.025 kIso is typical).</td></tr>
    <tr><td class="paramname">kIso</td><td>The normalized stiffness (or slope) of the fiber curve when the fiber is strained by eIso (or has a length of 1+eIso) under a load of 1 maximum isometric unit of force.</td></tr>
    <tr><td class="paramname">curviness</td><td>The dimensionless 'curviness' parameter that can vary between 0 (a line) to 1 (a smooth, but sharply bent elbow)</td></tr>
    <tr><td class="paramname">curveName</td><td>The name of the muscle this curve applies to. This curve name should have the name of the muscle and the curve in it (e.g. "bicep_fiberForceLengthCurve") sothat if this curve ever causes an exception, a userfriendly error message can be displayed to the end user to help them debug their model.</td></tr>
  </table>
  </dd>
</dl>
<p><b>aborts</b> <b>unless</b> the following conditions are met -eIso &gt; eZero -kIso &gt; 1/(eIso-eZero) -0 &lt; kLow &lt; kIso -0 &lt;= curviness &lt;= 1</p>
<dl class="section return"><dt>Returns</dt><dd>SmoothSegmentedFunction*</dd></dl>
<div class="image">
<img src="../../fig_SmoothSegmentedFunctionFactory_fcLengthCurve.png" alt="fig_SmoothSegmentedFunctionFactory_fcLengthCurve.png"/>
</div>
<p><b>Computational Costs</b> </p>
<pre class="fragment">~4,100 flops
</pre><p><b>Example:</b> </p>
<div class="fragment"><div class="line"><span class="keywordtype">double</span> eIso  = 0.6;</div>
<div class="line"><span class="keywordtype">double</span> eZero   = 0.0;</div>
<div class="line"><span class="keywordtype">double</span> kIso  = 4.0/(eIso-eZero);</div>
<div class="line"><span class="keywordtype">double</span> kNearZero = 0.025*kIso</div>
<div class="line"><span class="keywordtype">double</span> c   = 0.5;</div>
<div class="line"></div>
<div class="line">SmoothSegmentedFunction fiberFLCurve </div>
<div class="line">= <a class="code" href="../../d9/d41/class_rigid_body_dynamics_1_1_addons_1_1_geometry_1_1_smooth_segmented_function_factory.html#afc57ab81cd4efc0d0c65f65466f94d14">SmoothSegmentedFunctionFactory::</a></div>
<div class="line"><a class="code" href="../../d9/d41/class_rigid_body_dynamics_1_1_addons_1_1_geometry_1_1_smooth_segmented_function_factory.html#afc57ab81cd4efc0d0c65f65466f94d14">createFiberForceLengthCurve</a>(eZero, eIso,</div>
<div class="line">    kLow, kIso, c,<span class="stringliteral">&quot;test&quot;</span>);</div>
<div class="line">fiberFLCurve.printCurveToFile();</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="ac9dfc0f2e449bd80ff840ba4d6001ad5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../dc/dff/class_rigid_body_dynamics_1_1_addons_1_1_geometry_1_1_smooth_segmented_function.html">SmoothSegmentedFunction</a>* createFiberForceVelocityCurve </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>fmaxE</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dydxC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dydxNearC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dydxIso</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dydxE</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dydxNearE</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>concCurviness</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>eccCurviness</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>curveName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This function will generate a C2 continous (continuous to the second derivative) force velocity curve of a single muscle fiber. The main function of this element is to model the amount the force enhancement or attenuation that is associated with contracting at a particular velocity.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fmaxE</td><td>The normalized maximum force the fiber can generate when is being stretched. This value is reported to range between 1.1 and 1.8 in the literature, though all values are above 1.</td></tr>
    <tr><td class="paramname">dydxC</td><td>The slope of the fv(dlce(t)/dt) curve at the maximum normalized concentric contraction velocity. Although physiologically the value of dydxC at the maximum concentric contracton velocity is by definition 0, a value of 0 is often used. If you are using an equilbrium type model this term must be positive and greater than zero so that the fv curve can be inverted. <br/>
<br/>
 Minimum Value: 0 Maximum Value: dydxC &lt; 1 <br/>
<br/>
</td></tr>
    <tr><td class="paramname">dydxNearC</td><td>The slope of the force velocity curve as it approaches the maximum concentric (shortening) contraction velocity. <br/>
<br/>
 Minimum Value: &gt; dydxC Maximum Value: dydxNearC &lt; 1 <br/>
<br/>
</td></tr>
    <tr><td class="paramname">dydxIso</td><td>The slope of the fv curve when dlce(t)/dt = 0. <br/>
<br/>
 Minimim Value: dydxIso &gt; 1.0 Maximum Value: dydxIso &lt; Inf</td></tr>
    <tr><td class="paramname">dydxE</td><td>The analogous term of dydxC parameter but for the eccentric portion of the force-velocity curve. As with the dydxC term, the physiologically accurate value for this parameter is 0, though a value of 0 is rarely used in muscle models. If you are using an equilbrium type model this term must be positive and greater than zero so that the fv curve can be inverted. <br/>
<br/>
 Minimum Value: 0 Maximum Value: dydxC &lt; (fmaxE-1). <br/>
<br/>
 As with the dydxC term, the size of this term also affects the stiffness of the integration problem for equilibrium-type muscle models: the closer to zero this term is, the stiffer the model will be (but only when (dlce(t)/dt)/vmax approaches 1.</td></tr>
    <tr><td class="paramname">dydxNearE</td><td>The slope of the force velocity curve as it approaches the maximum eccentric (lengthening) contraction velocity. <br/>
<br/>
 Minimum Value: &gt; dydxE Maximum Value: dydxNearE &lt; (fmaxE-1) <br/>
<br/>
</td></tr>
    <tr><td class="paramname">concCurviness</td><td>The dimensionless 'curviness' parameter that can vary between 0 (a line) to 1 (a smooth, but sharply bent elbow). This parameter affects only the concentric side of the fv curve.</td></tr>
    <tr><td class="paramname">eccCurviness</td><td>The dimensionless 'curviness' parameter that can vary between 0 (a line) to 1 (a smooth, but sharply bent elbow). This parameter affects only the eccentric side of the fv curve.</td></tr>
    <tr><td class="paramname">curveName</td><td>The name of the muscle this curve applies to. This curve name should have the name of the muscle and the curve in it (e.g. "bicep_fiberForceVelocityCurve") sothat if this curve ever causes an exception, a userfriendly error message can be displayed to the end user to help them debug their model.</td></tr>
  </table>
  </dd>
</dl>
<p><b>aborts</b> <b>unless</b> these conditions are met -0 &lt;= dydxC &lt; 1 -dydxC &lt; dydxNearC &lt; 1 -1 &lt; dydxIso -dydxE &lt; (fmaxE-1) -dydxE &lt; dydxNearC &lt; (fmaxE-1) -0&lt;= concCurviness &lt;=0 -0 &lt;= eccCurviness &lt;= 0</p>
<dl class="section return"><dt>Returns</dt><dd>SmoothSegmentedFunction*</dd></dl>
<div class="image">
<img src="../../fig_SmoothSegmentedFunctionFactory_fvCurve.png" alt="fig_SmoothSegmentedFunctionFactory_fvCurve.png"/>
</div>
<p><b>Computational Costs</b> </p>
<pre class="fragment">~8,200 flops
</pre><p><b>Example:</b> </p>
<div class="fragment"><div class="line"><span class="keywordtype">double</span> fmaxE = 1.8;</div>
<div class="line"><span class="keywordtype">double</span> dydxC = 0.1;</div>
<div class="line"><span class="keywordtype">double</span> dydxNearC = 0.25;</div>
<div class="line"><span class="keywordtype">double</span> dydxE = 0.1;</div>
<div class="line"><span class="keywordtype">double</span> dydxNearE = 0.15;</div>
<div class="line"><span class="keywordtype">double</span> dydxIso= 5;</div>
<div class="line"><span class="keywordtype">double</span> concCurviness = 0.1;</div>
<div class="line"><span class="keywordtype">double</span> eccCurviness = 0.75;</div>
<div class="line"></div>
<div class="line">SmoothSegmentedFunction fiberFVCurve = <a class="code" href="../../d9/d41/class_rigid_body_dynamics_1_1_addons_1_1_geometry_1_1_smooth_segmented_function_factory.html#ac9dfc0f2e449bd80ff840ba4d6001ad5">SmoothSegmentedFunctionFactory::</a></div>
<div class="line"><a class="code" href="../../d9/d41/class_rigid_body_dynamics_1_1_addons_1_1_geometry_1_1_smooth_segmented_function_factory.html#ac9dfc0f2e449bd80ff840ba4d6001ad5">createFiberForceVelocityCurve</a>(fmaxE, </div>
<div class="line">  dydxC, dydxNearC, dydxIso, dydxE, dydxNearE,</div>
<div class="line">  concCurviness,  eccCurviness,<span class="stringliteral">&quot;test&quot;</span>);</div>
<div class="line">fiberFVCurve.printCurveToFile();</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="acd1a4ab2ff56e97e5b83d518a4320fb6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../dc/dff/class_rigid_body_dynamics_1_1_addons_1_1_geometry_1_1_smooth_segmented_function.html">SmoothSegmentedFunction</a>* createFiberForceVelocityInverseCurve </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>fmaxE</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dydxC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dydxNearC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dydxIso</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dydxE</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dydxNearE</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>concCurviness</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>eccCurviness</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>muscleName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This function will generate a C2 continuous (continuous to the 2nd derivative) inverse curve that the function createFiberForceVelocityCurve generates. The inverse force velocity curve is required by every equilibrium muscle model in order to compute the derivative of fiber velocity. To generate the inverse force velocity curve simply call this function with EXACTLY the same parameter values that you used to generate the force velocity curve. See the parameter descriptions for createFiberForceVelocityCurve, as the parameters for the inverse function are identical. The curve name should be different, however, because this is an inverse curve (e.g. "bicep_fiberForceVelocityInverseCurve")</p>
<div class="image">
<img src="../../fig_SmoothSegmentedFunctionFactory_fvInvCurve.png" alt="fig_SmoothSegmentedFunctionFactory_fvInvCurve.png"/>
</div>
 
</div>
</div>
<a class="anchor" id="ac0ac453217a51a2ebc13e3db6efc1dde"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../dc/dff/class_rigid_body_dynamics_1_1_addons_1_1_geometry_1_1_smooth_segmented_function.html">SmoothSegmentedFunction</a>* createNeuroSwingSpringProfile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a2cf580002219c9abf187ceb3d4021785">RigidBodyDynamics::Math::VectorNd</a> &amp;&#160;</td>
          <td class="paramname"><em>controlPointAngles</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a2cf580002219c9abf187ceb3d4021785">RigidBodyDynamics::Math::VectorNd</a> &amp;&#160;</td>
          <td class="paramname"><em>controlPointTorques</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/da0/namespace_rigid_body_dynamics_1_1_math.html#a2cf580002219c9abf187ceb3d4021785">RigidBodyDynamics::Math::VectorNd</a> &amp;&#160;</td>
          <td class="paramname"><em>controlPointSlopes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>curveName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This function constructs the nonlinear angle-torque profile associated with the NeuroSwing ankle orthoses. This profile looks something like this</p>
<p>Torque (Nm) | / | (x3,y3,k3) + (x4,y4,k4) | ______+________/ | / 0| + (x2,y2,k2) | _______+_______/ | / (x1,y1,k1) | + (x0,y0,k0) |/ ---------------------------------------&mdash;&gt; Angle In Radians</p>
<p>Note that the ASCII diagram is necessary simplified: k1 and k3 are not 0 nor necessarily equal. k0, k2, and k4 are not necessarily equal.</p>
<p>At the moment this code is being written it is not clear how this profile varies from one spring to the next, and so the interface that is made for this curve does little more than provide a convenience method to build the above curve given a 3 vectors: a vector of x control points in degrees a vector of y control points in Nm/kg a vector of slopes in (Nm/kg)/degrees</p>
<p>The above curve was extracted from a NeuroSwing that is attached to a carbon fiber foot and lower leg. Each of the above regions has the following physical interpretation:</p>
<p>Line Segment</p>
<p>Dorsi-flexion support 0: The NeuroSwing joint has hit a hard stop. The large stiffness here is due to the stiffness of the carbon fiber foot.</p>
<p>1: One of the 2 Neuroswing springs is providing a torque in dorsiflexion.</p>
<p>Neutral. 2: The offset angle has been reached, and one spring is unloading while the other spring is being loaded. Due to the preload of the two springs there is a gap in torque</p>
<p>Plantar-flexion support 3: The other Neuroswing spring is providing a torque in plantar flexion.</p>
<p>4: The Neuroswing joint has hit a hardstop in plantar flexion. The observed stiffness is due to the stifness of the carbon fiber limb</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">controlPointAngles</td><td>A vector of the angles of the 5 control points in order [x0, x1, x2, x3, x4] (radians)</td></tr>
    <tr><td class="paramname">controlPointTorques</td><td>A vector of the torques at the 5 control points locations in order [y0, y1, y2, y3, y4] (Nm)</td></tr>
    <tr><td class="paramname">controlPointSlopes</td><td>A vector of the stiffesses of the line segments at the control point locations <a href="../../Nm/rad">k0, k1, k2, k3, k4</a></td></tr>
    <tr><td class="paramname">curveName</td><td>The name of the joint torque this curve applies to. This curve name should have the name of the joint and the direction (e.g. hipExtensionTorqueMuscle) so that if this curve ever causes an exception, a user friendly error message can be displayed to the end user to help them debug their model.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SmoothSegmentedFunction* </dd></dl>

</div>
</div>
<a class="anchor" id="a1c813b5ab98577db69f0e0e8efcb881c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../dc/dff/class_rigid_body_dynamics_1_1_addons_1_1_geometry_1_1_smooth_segmented_function.html">SmoothSegmentedFunction</a>* createTendonForceLengthCurve </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>eIso</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>kIso</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>fToe</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>curviness</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>curveName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Will generate a C2 continous (continuous to the second derivative) curve in a MuscleFunctionObject object that fits a tendon's tensile force length curve.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">eIso</td><td>The tendon strain at which the tendon develops 1 unit of normalized force (1 maximum isometric force). Note that the'1' is left off. Thus an e0 of 0.04 means that the tendon will develop an 1 normalized force unit when it is strained by 4% of its resting length, at a normalized length of 1.04</td></tr>
    <tr><td class="paramname">kIso</td><td>The normalized stiffness (or slope) of the tendon curve when the tendon is strained by e0 (or has a length of 1+e0) under a load of 1 maximum isometric unit of force.</td></tr>
    <tr><td class="paramname">fToe</td><td>The normalized force at which the tendon smoothly transitions from the curved low stiffness region to the linear stiffness region.</td></tr>
    <tr><td class="paramname">curviness</td><td>The dimensionless 'curviness' parameter that can vary between 0 (a line) to 1 (a smooth, but sharply bent elbow)</td></tr>
    <tr><td class="paramname">curveName</td><td>The name of the muscle this curve applies to. This curve name should have the name of the muscle and the curve in it (e.g. "bicep_tendonForceLengthCurve") sothat if this curve ever causes an exception, a userfriendly error message can be displayed to the end user to help them debug their model.</td></tr>
  </table>
  </dd>
</dl>
<p><b>aborts</b> <b>unless</b> the following conditions are met: -0 &lt; fToe &lt; 1 -e0 &gt; 0 -kiso &gt; 1/e0 -0 &lt;= curviness &lt;= 1</p>
<dl class="section return"><dt>Returns</dt><dd>SmoothSegmentedFunction*</dd></dl>
<div class="image">
<img src="../../fig_SmoothSegmentedFunctionFactory_fseCurve.png" alt="fig_SmoothSegmentedFunctionFactory_fseCurve.png"/>
</div>
<p><b>Computational Costs</b> </p>
<pre class="fragment">~4,100 flops
</pre><p><b>Example:</b> </p>
<div class="fragment"><div class="line"><span class="keywordtype">double</span> e0   = 0.04;</div>
<div class="line"><span class="keywordtype">double</span> kiso = 42.79679348815859;</div>
<div class="line"><span class="keywordtype">double</span> fToe = 1.0/3.0</div>
<div class="line">double c  = 0.75;</div>
<div class="line"></div>
<div class="line">SmoothSegmentedFunction* tendonCurve = <a class="code" href="../../d9/d41/class_rigid_body_dynamics_1_1_addons_1_1_geometry_1_1_smooth_segmented_function_factory.html#a1c813b5ab98577db69f0e0e8efcb881c">SmoothSegmentedFunctionFactory::</a></div>
<div class="line"><a class="code" href="../../d9/d41/class_rigid_body_dynamics_1_1_addons_1_1_geometry_1_1_smooth_segmented_function_factory.html#a1c813b5ab98577db69f0e0e8efcb881c">    createTendonForceLengthCurve</a>(</div>
<div class="line">      e0,kiso,fToe,c,<span class="stringliteral">&quot;test&quot;</span>);</div>
<div class="line">tendonCurve.printCurveToFile();  </div>
</div><!-- fragment --> 
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>addons/geometry/<a class="el" href="../../d0/d06/_smooth_segmented_function_factory_8h_source.html">SmoothSegmentedFunctionFactory.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dd/d16/namespace_rigid_body_dynamics.html">RigidBodyDynamics</a></li><li class="navelem"><a class="el" href="../../d6/db6/namespace_rigid_body_dynamics_1_1_addons.html">Addons</a></li><li class="navelem"><a class="el" href="../../d7/dbd/namespace_rigid_body_dynamics_1_1_addons_1_1_geometry.html">Geometry</a></li><li class="navelem"><a class="el" href="../../d9/d41/class_rigid_body_dynamics_1_1_addons_1_1_geometry_1_1_smooth_segmented_function_factory.html">SmoothSegmentedFunctionFactory</a></li>
    <li class="footer">Generated on Wed Jul 27 2016 14:00:34 for Rigid Body Dynamics Library by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
